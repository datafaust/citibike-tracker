(this["webpackJsonpcitibike-tracker"]=this["webpackJsonpcitibike-tracker"]||[]).push([[0],{38:function(t,e,_){t.exports={container:"infoBox_container__1bzFz",buttonContainer:"infoBox_buttonContainer__3o83o"}},41:function(t,e,_){t.exports=_.p+"static/media/bikeLevelGreat.82210fe3.png"},51:function(module,__webpack_exports__,__webpack_require__){"use strict";var _home_fausto_Documents_git_projects_citibike_tracker_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(52),_home_fausto_Documents_git_projects_citibike_tracker_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(26),_home_fausto_Documents_git_projects_citibike_tracker_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_home_fausto_Documents_git_projects_citibike_tracker_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__),_home_fausto_Documents_git_projects_citibike_tracker_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(37),_home_fausto_Documents_git_projects_citibike_tracker_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(4),_home_fausto_Documents_git_projects_citibike_tracker_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(5),_home_fausto_Documents_git_projects_citibike_tracker_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(7),_home_fausto_Documents_git_projects_citibike_tracker_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(6),_home_fausto_Documents_git_projects_citibike_tracker_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(8),react__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_8__),_components_Leaf__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(62),_components_InfoBox__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(61),_components_Location__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(55),_components_Match__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(56),_app_module_css__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(74),_app_module_css__WEBPACK_IMPORTED_MODULE_13___default=__webpack_require__.n(_app_module_css__WEBPACK_IMPORTED_MODULE_13__),_components_FavoritesList__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(57),_components_DocksSwitch__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(60),App=function(_Component){function App(props){var _this;return Object(_home_fausto_Documents_git_projects_citibike_tracker_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_3__.a)(this,App),_this=Object(_home_fausto_Documents_git_projects_citibike_tracker_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5__.a)(this,Object(_home_fausto_Documents_git_projects_citibike_tracker_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6__.a)(App).call(this,props)),_this.markerClick=function(t){return function(e){_this.setState({selectedStation:t}),_this.filterStation(t)}},_this.filterStation=function(t){var e=_this.state.stationsStatus.data.stations.filter((function(e){return e.station_id===t.station_id}));console.log(e[0]),_this.setState({selectedStationStatus:e[0],showInfo:!0})},_this.setUserLocation=function(){console.log("attempting to get user location ..."),navigator.geolocation.getCurrentPosition((function(t){var e=[t.coords.latitude,t.coords.longitude];console.log("user is at",e);var _={height:"100vh",width:"100vw",latitude:t.coords.latitude,longitude:t.coords.longitude,zoom:15};_this.setState({viewport:_,userLocation:e,position:e})}))},_this.findMatches=function(t,e){return e.data.stations.filter((function(e){var _=new RegExp(t,"gi");return e.name.match(_)}))},_this.updateMatches=function(){var t=_this.findMatches(_this.state.searchInput,_this.state.stationsInfo).map((function(t){return t}));_this.setState({matches:t})},_this.handleInputChange=function(t){t.preventDefault(),0!==t.target.value.length?(_this.setState({searchInput:t.target.value}),_this.updateMatches()):_this.setState({searchInput:"",showMatches:!1,matches:[]})},_this.alertClicked=function(address){var arr=eval(address.target.value);console.log(arr);var newViewport={height:"100vh",width:"100vw",latitude:arr[0],longitude:arr[1],zoom:15};_this.setState({viewport:newViewport,matches:[]})},_this.logFavorites=function(){console.log("logging favorites"),console.log(_this.state.selectedStation),_this.state.favorites.push(_this.state.selectedStation)},_this.removeFavorites=function(t){return function(e){console.log(t),_this.filterFavorites(t)}},_this.filterFavorites=function(t){var e;e=_this.state.favorites.filter((function(e){return e.station_id!=t.station_id})),_this.setState({favorites:e})},_this.listFavorites=function(){console.log(_this.state.favorites),_this.handleShow()},_this.handleShow=function(){console.log("attempting to show modal"),_this.setState({show:!0})},_this.handleClose=function(){_this.setState({show:!1})},_this.state={viewport:{height:"100vh",width:"100vw",latitude:40.7128,longitude:-74.006,zoom:10},buttonStyles:{padding:"4px 4px",margin:"0",borderRadius:"50%",backgroundColor:"white",color:"#FFF",boxShadow:"3px 3px 3px #999"},zoom:10,searchInput:"",stationsInfo:[],stationsStatus:[],showMatches:!1,showStations:!1,showInfo:!1,selectedStation:[],selectedStationStatus:[],userLocation:{},matches:[],favorites:[],show:!1},_this}return Object(_home_fausto_Documents_git_projects_citibike_tracker_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_7__.a)(App,_Component),Object(_home_fausto_Documents_git_projects_citibike_tracker_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_4__.a)(App,[{key:"componentDidMount",value:function(){var t=this,e=function(){var e=Object(_home_fausto_Documents_git_projects_citibike_tracker_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__.a)(_home_fausto_Documents_git_projects_citibike_tracker_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark((function e(){return _home_fausto_Documents_git_projects_citibike_tracker_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://gbfs.citibikenyc.com/gbfs/en/station_information.json").then((function(t){return t.json()})).then((function(e){return t.setState({stationsInfo:e,showStations:!0})}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),_=function(){var e=Object(_home_fausto_Documents_git_projects_citibike_tracker_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__.a)(_home_fausto_Documents_git_projects_citibike_tracker_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark((function e(){return _home_fausto_Documents_git_projects_citibike_tracker_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://gbfs.citibikenyc.com/gbfs/en/station_status.json").then((function(t){return t.json()})).then((function(e){return t.setState({stationsStatus:e})}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e(),_()}},{key:"render",value:function(){return react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement("div",null,react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement("div",{style:{position:"absolute",zIndex:"1000",display:"flex",width:"10%",marginLeft:"45%",marginRight:"45%",textShadow:"2px 2px 0px  #fff",marginTop:"1%"}},react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement("h2",{style:{color:"#00008B",outlineColor:"coral"}},react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement("b",null,"City")),react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement("h2",{style:{color:"#00BFFF",outlineColor:"coral"}},react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement("b",null,"bike"))),react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(_components_Match__WEBPACK_IMPORTED_MODULE_12__.a,{matches:this.state.matches,alertClicked:this.alertClicked}),react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(_components_FavoritesList__WEBPACK_IMPORTED_MODULE_14__.a,{buttonStyles:this.state.buttonStyles,listFavorites:this.listFavorites,handleShow:this.handleShow,handleClose:this.handleClose,show:this.state.show,favorites:this.state.favorites,removeFavorites:this.removeFavorites}),react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(_components_Location__WEBPACK_IMPORTED_MODULE_11__.a,{userLocation:this.state.userLocation,setUserLocation:this.setUserLocation,buttonStyles:this.state.buttonStyles}),react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(_components_DocksSwitch__WEBPACK_IMPORTED_MODULE_15__.a,{buttonStyles:this.state.buttonStyles}),react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(_components_Leaf__WEBPACK_IMPORTED_MODULE_9__.a,{viewport:this.state.viewport,stationsInfo:this.state.stationsInfo,showStations:this.state.showStations,markerClick:this.markerClick,buttonStyles:this.buttonStyles,handleInputChange:this.handleInputChange}),react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(_components_InfoBox__WEBPACK_IMPORTED_MODULE_10__.a,Object(_home_fausto_Documents_git_projects_citibike_tracker_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__.a)({selectedStation:this.state.selectedStation,selectedStationStatus:this.state.selectedStationStatus,showInfo:this.state.showInfo,buttonStyles:this.state.buttonStyles,logFavorites:this.logFavorites},"selectedStation",this.state.selectedStation)))}}]),App}(react__WEBPACK_IMPORTED_MODULE_8__.Component);__webpack_exports__.a=App},55:function(t,e,_){"use strict";var n=_(4),a=_(5),o=_(7),i=_(6),r=_(8),s=_(0),c=_.n(s),l=(_(73),function(t){function e(){return Object(n.a)(this,e),Object(o.a)(this,Object(i.a)(e).apply(this,arguments))}return Object(r.a)(e,t),Object(a.a)(e,[{key:"render",value:function(){return c.a.createElement("div",{style:{position:"absolute",zIndex:"1000",width:"5%",marginLeft:"5%",marginRight:"80%",marginTop:"80%"}},c.a.createElement("button",{style:this.props.buttonStyles,onClick:this.props.setUserLocation},c.a.createElement("img",{src:"https://img.icons8.com/windows/32/000000/worldwide-location.png"})))}}]),e}(s.Component));e.a=l},56:function(t,e,_){"use strict";var n=_(4),a=_(5),o=_(7),i=_(6),r=_(8),s=_(0),c=_.n(s),l=_(95),u=function(t){function e(){return Object(n.a)(this,e),Object(o.a)(this,Object(i.a)(e).apply(this,arguments))}return Object(r.a)(e,t),Object(a.a)(e,[{key:"render",value:function(){var t=this,e={height:"10%",width:"80%",zIndex:"1000",margin:"auto"},_={float:"right",height:"4%",width:"4%"},n={float:"left",height:"4%",width:"4%"};return c.a.createElement("div",null,c.a.createElement("li",null,this.props.matches.map((function(a){var o=a.name;return c.a.createElement(l.a.Item,{style:e,className:"Matches",action:!0,value:"[".concat(a.lat,", ").concat(a.lon,"]"),onClick:function(e){return t.props.alertClicked(e)}},"".concat(o.toLowerCase()),c.a.createElement("img",{style:_,src:"https://img.icons8.com/ios-glyphs/32/000000/up-left-arrow.png",alt:"arrow"}),c.a.createElement("img",{style:n,src:"https://img.icons8.com/material/24/000000/worldwide-location--v1.png",alt:"userloc"}))}))))}}]),e}(s.Component);e.a=u},57:function(t,e,_){"use strict";var n=_(4),a=_(5),o=_(7),i=_(6),r=_(8),s=_(0),c=_.n(s),l=_(27),u=_(96),h=function(t){function e(){return Object(n.a)(this,e),Object(o.a)(this,Object(i.a)(e).apply(this,arguments))}return Object(r.a)(e,t),Object(a.a)(e,[{key:"render",value:function(){var t=this,e=null;return this.props.favorites&&(e=this.props.favorites.map((function(e){return c.a.createElement("div",{style:{width:"100%"}},e.name,c.a.createElement("button",{onClick:t.props.removeFavorites(e)},"X"))}))),c.a.createElement("div",{style:{position:"absolute",zIndex:"1000",width:"5%",marginLeft:"80%",marginRight:"5%",marginTop:"65%"}},c.a.createElement("button",{variant:"primary",style:this.props.buttonStyles,onClick:this.props.listFavorites},c.a.createElement("img",{src:"https://img.icons8.com/windows/32/000000/add-to-favorites.png"})),c.a.createElement(l.a,{show:this.props.show,onHide:this.props.handleClose},c.a.createElement(l.a.Header,{closeButton:!0},c.a.createElement(l.a.Title,null,"My Favorites List")),c.a.createElement(l.a.Body,null,c.a.createElement("div",null,e)),c.a.createElement(l.a.Footer,null,c.a.createElement(u.a,{variant:"secondary",onClick:this.props.handleClose},"Close"))))}}]),e}(s.Component);e.a=h},60:function(t,e,_){"use strict";var n=_(4),a=_(5),o=_(7),i=_(6),r=_(8),s=_(0),c=_.n(s),l=function(t){function e(){return Object(n.a)(this,e),Object(o.a)(this,Object(i.a)(e).apply(this,arguments))}return Object(r.a)(e,t),Object(a.a)(e,[{key:"render",value:function(){return c.a.createElement("div",{style:{position:"absolute",zIndex:"1000",width:"5%",marginLeft:"80%",marginRight:"5%",marginTop:"80%"}},c.a.createElement("button",{style:{padding:"7px 7px",margin:"0",borderRadius:"50%",backgroundColor:"white",color:"#FFF",boxShadow:"3px 3px 3px #999"}},c.a.createElement("img",{src:"https://img.icons8.com/metro/26/000000/switch-off--v3.png"})))}}]),e}(s.Component);e.a=l},61:function(t,e,_){"use strict";var n=_(4),a=_(5),o=_(7),i=_(6),r=_(8),s=_(0),c=_.n(s),l=_(38),u=_.n(l),h=_(31),p=_.n(h),m=_(96),d=function(t){function e(){return Object(n.a)(this,e),Object(o.a)(this,Object(i.a)(e).apply(this,arguments))}return Object(r.a)(e,t),Object(a.a)(e,[{key:"render",value:function(){return c.a.createElement("div",null,c.a.createElement("button",{style:{padding:"3px 3px",borderRadius:"50%",border:"10px solid rgba(255,255,255,.5)"},onClick:this.props.logFavorites},c.a.createElement("img",{src:"https://img.icons8.com/office/20/000000/add-to-favorites.png"})))}}]),e}(s.Component),E=function(t){function e(){var t,_;Object(n.a)(this,e);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(_=Object(o.a)(this,(t=Object(i.a)(e)).call.apply(t,[this].concat(r)))).showData=function(){console.log(_.props.selectedStation)},_}return Object(r.a)(e,t),Object(a.a)(e,[{key:"render",value:function(){var t={textAlign:"center"},e=null;return this.props.showInfo&&(e=c.a.createElement("div",null,c.a.createElement("div",{style:{marginRight:"10%",marginLeft:"90%",marginTop:"2%"}},c.a.createElement(d,{buttonStyles:this.props.buttonStyles,logFavorites:this.props.logFavorites,selectedStation:this.props.selectedStation})),c.a.createElement("div",null,c.a.createElement("h3",{style:t},"".concat(this.props.selectedStation.name))),c.a.createElement("div",{className:u.a.container},c.a.createElement("div",{style:t},p()("".concat(this.props.selectedStationStatus.num_bikes_available,"\nBikes"))),c.a.createElement("div",{style:t},p()("".concat(this.props.selectedStationStatus.num_ebikes_available,"\nEbikes"))),c.a.createElement("div",{style:t},p()("".concat(this.props.selectedStationStatus.num_docks_available,"\nDocks")))),c.a.createElement("div",null),c.a.createElement("br",null),c.a.createElement("br",null),c.a.createElement("br",null),c.a.createElement("div",{className:u.a.buttonContainer},c.a.createElement("div",null,c.a.createElement(m.a,null,c.a.createElement("img",{src:"https://img.icons8.com/office/40/000000/bicycle.png"}),c.a.createElement("div",null,"Buy Pass"))),c.a.createElement("div",null,c.a.createElement(m.a,null,c.a.createElement("img",{src:"https://img.icons8.com/office/40/000000/waypoint-map.png"}),c.a.createElement("div",null,"Plan Ride")))))),c.a.createElement("div",null,e)}}]),e}(s.Component);e.a=E},62:function(t,e,_){"use strict";var n=_(4),a=_(5),o=_(7),i=_(6),r=_(8),s=_(0),c=_.n(s),l=_(99),u=_(100),h=_(101),p=_(10),m=_.n(p),d=(_(70),_(71),function(t){function e(){var t,_;Object(n.a)(this,e);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(_=Object(o.a)(this,(t=Object(i.a)(e)).call.apply(t,[this].concat(r)))).SearchStyles={position:"absolute",margin:"auto",zIndex:"1000",width:"50%",borderRadius:"25px",padding:"2%",marginLeft:"25%",marginRight:"25%",marginTop:"10%"},_}return Object(r.a)(e,t),Object(a.a)(e,[{key:"render",value:function(){return c.a.createElement("div",null,c.a.createElement("input",{style:this.SearchStyles,placeholder:"Search for a Link Near you...",onChange:this.props.handleInputChange}))}}]),e}(s.Component)),E=function(t){function e(){return Object(n.a)(this,e),Object(o.a)(this,Object(i.a)(e).apply(this,arguments))}return Object(r.a)(e,t),Object(a.a)(e,[{key:"render",value:function(){var t=this,e=null;this.props.showStations&&(e=this.props.stationsInfo.data.stations.map((function(e){return c.a.createElement(l.a,{icon:new m.a.Icon({iconUrl:_(41),iconRetinaUrl:_(41),iconAnchor:null,popupAnchor:null,shadowUrl:null,shadowSize:null,shadowAnchor:null,iconSize:new m.a.Point(120,190),className:"dummy"}),position:[e.lat,e.lon],onClick:t.props.markerClick(e)})})));var n=[this.props.viewport.latitude,this.props.viewport.longitude];return c.a.createElement("div",null,c.a.createElement(d,{buttonStyles:this.props.buttonStyles,handleInputChange:this.props.handleInputChange}),c.a.createElement(u.a,{center:n,zoom:this.props.viewport.zoom,style:{position:"relative",top:"0",bottom:"0",width:"100vw",height:"70vh"}},c.a.createElement(h.a,{attribution:'&copy <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),e))}}]),e}(s.Component);e.a=E},63:function(t,e,_){t.exports=_(94)},68:function(t,e,_){},70:function(t,e,_){t.exports={leaf:"leaf_leaf__2x8H4"}},71:function(t,e,_){},73:function(t,e,_){t.exports={loc:"location_loc__24hxq"}},74:function(t,e,_){},94:function(t,e,_){"use strict";_.r(e);var n=_(0),a=_.n(n),o=_(18),i=_.n(o),r=(_(68),_(51));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(a.a.createElement(r.a,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()}))}},[[63,1,2]]]);
//# sourceMappingURL=main.1d4be730.chunk.js.map