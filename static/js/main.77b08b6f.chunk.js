(this["webpackJsonpcitibike-tracker"]=this["webpackJsonpcitibike-tracker"]||[]).push([[0],{23:function(t,e,_){t.exports={container:"infoBox_container__1bzFz",buttonContainer:"infoBox_buttonContainer__3o83o"}},26:function(module,__webpack_exports__,__webpack_require__){"use strict";var _home_fausto_Documents_git_projects_citibike_tracker_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(17),_home_fausto_Documents_git_projects_citibike_tracker_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_home_fausto_Documents_git_projects_citibike_tracker_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__),_home_fausto_Documents_git_projects_citibike_tracker_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(22),_home_fausto_Documents_git_projects_citibike_tracker_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2),_home_fausto_Documents_git_projects_citibike_tracker_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(3),_home_fausto_Documents_git_projects_citibike_tracker_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(5),_home_fausto_Documents_git_projects_citibike_tracker_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(4),_home_fausto_Documents_git_projects_citibike_tracker_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(6),react__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__),_components_Leaf__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(34),_components_InfoBox__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(33),_components_Location__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(29),_components_Match__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(30),_app_module_css__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(48),_app_module_css__WEBPACK_IMPORTED_MODULE_12___default=__webpack_require__.n(_app_module_css__WEBPACK_IMPORTED_MODULE_12__),_components_FavoritesList__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(32),App=function(_Component){function App(props){var _this;return Object(_home_fausto_Documents_git_projects_citibike_tracker_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_2__.a)(this,App),_this=Object(_home_fausto_Documents_git_projects_citibike_tracker_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__.a)(this,Object(_home_fausto_Documents_git_projects_citibike_tracker_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__.a)(App).call(this,props)),_this.markerClick=function(t){return function(e){console.log(t),_this.setState({selectedStation:t}),_this.filterStation(t)}},_this.filterStation=function(t){var e=_this.state.stationsStatus.data.stations.filter((function(e){return e.station_id===t.station_id}));console.log(e[0]),_this.setState({selectedStationStatus:e[0],showInfo:!0})},_this.setUserLocation=function(){console.log("attempting to get user location ..."),navigator.geolocation.getCurrentPosition((function(t){var e=[t.coords.latitude,t.coords.longitude];console.log("user is at",e);var _={height:"100vh",width:"100vw",latitude:t.coords.latitude,longitude:t.coords.longitude,zoom:15};_this.setState({viewport:_,userLocation:e,position:e})}))},_this.findMatches=function(t,e){return e.data.stations.filter((function(e){var _=new RegExp(t,"gi");return e.name.match(_)}))},_this.updateMatches=function(){console.log(_this.state.searchInput);var t=_this.findMatches(_this.state.searchInput,_this.state.stationsInfo).map((function(t){return t}));_this.setState({matches:t})},_this.handleInputChange=function(t){t.preventDefault(),0!==t.target.value.length?(_this.setState({searchInput:t.target.value}),_this.updateMatches()):_this.setState({searchInput:"",showMatches:!1,matches:[]})},_this.alertClicked=function(address){var arr=eval(address.target.value);console.log(arr);var newViewport={height:"100vh",width:"100vw",latitude:arr[0],longitude:arr[1],zoom:15};_this.setState({viewport:newViewport,matches:[]})},_this.state={viewport:{height:"100vh",width:"100vw",latitude:40.7128,longitude:-74.006,zoom:10},buttonStyles:{width:"60px",height:"60px",borderRadius:"50%",backgroundColor:"white"},zoom:10,searchInput:"",stationsInfo:[],stationsStatus:[],showMatches:!1,showStations:!1,showInfo:!1,selectedStation:[],selectedStationStatus:[],userLocation:{},matches:[]},_this}return Object(_home_fausto_Documents_git_projects_citibike_tracker_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_6__.a)(App,_Component),Object(_home_fausto_Documents_git_projects_citibike_tracker_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_3__.a)(App,[{key:"componentDidMount",value:function(){var t=this,e=function(){var e=Object(_home_fausto_Documents_git_projects_citibike_tracker_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__.a)(_home_fausto_Documents_git_projects_citibike_tracker_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark((function e(){return _home_fausto_Documents_git_projects_citibike_tracker_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://gbfs.citibikenyc.com/gbfs/en/station_information.json").then((function(t){return t.json()})).then((function(e){return t.setState({stationsInfo:e,showStations:!0})}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),_=function(){var e=Object(_home_fausto_Documents_git_projects_citibike_tracker_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__.a)(_home_fausto_Documents_git_projects_citibike_tracker_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark((function e(){return _home_fausto_Documents_git_projects_citibike_tracker_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://gbfs.citibikenyc.com/gbfs/en/station_status.json").then((function(t){return t.json()})).then((function(e){return t.setState({stationsStatus:e})}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e(),_()}},{key:"render",value:function(){return react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div",null,react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div",{style:{position:"absolute",zIndex:"1000",display:"flex",width:"10%",marginLeft:"45%",marginRight:"45%",textShadow:"2px 2px 0px  #fff",marginTop:"1%"}},react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("h2",{style:{color:"#00008B",outlineColor:"coral"}},"City"),react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("h2",{style:{color:"#00BFFF",outlineColor:"coral"}},"Bike")),react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(_components_Match__WEBPACK_IMPORTED_MODULE_11__.a,{matches:this.state.matches,alertClicked:this.alertClicked}),react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(_components_FavoritesList__WEBPACK_IMPORTED_MODULE_13__.a,{buttonStyles:this.state.buttonStyles}),react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(_components_Location__WEBPACK_IMPORTED_MODULE_10__.a,{userLocation:this.state.userLocation,setUserLocation:this.setUserLocation,buttonStyles:this.state.buttonStyles}),react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(_components_Leaf__WEBPACK_IMPORTED_MODULE_8__.a,{viewport:this.state.viewport,stationsInfo:this.state.stationsInfo,showStations:this.state.showStations,markerClick:this.markerClick,buttonStyles:this.buttonStyles,handleInputChange:this.handleInputChange}),react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(_components_InfoBox__WEBPACK_IMPORTED_MODULE_9__.a,{selectedStation:this.state.selectedStation,selectedStationStatus:this.state.selectedStationStatus,showInfo:this.state.showInfo,buttonStyles:this.state.buttonStyles}))}}]),App}(react__WEBPACK_IMPORTED_MODULE_7__.Component);__webpack_exports__.a=App},29:function(t,e,_){"use strict";var n=_(2),a=_(3),o=_(5),r=_(4),i=_(6),s=_(0),c=_.n(s),l=_(35),u=(_(47),function(t){function e(){return Object(n.a)(this,e),Object(o.a)(this,Object(r.a)(e).apply(this,arguments))}return Object(i.a)(e,t),Object(a.a)(e,[{key:"render",value:function(){return c.a.createElement("div",{style:{position:"absolute",zIndex:"1000",width:"5%",marginLeft:"5%",marginRight:"80%",marginTop:"80%"}},c.a.createElement(l.a,{style:this.props.buttonStyles,onClick:this.props.setUserLocation},c.a.createElement("img",{src:"https://img.icons8.com/office/40/000000/worldwide-location.png"})))}}]),e}(s.Component));e.a=u},30:function(t,e,_){"use strict";var n=_(2),a=_(3),o=_(5),r=_(4),i=_(6),s=_(0),c=_.n(s),l=_(50),u=function(t){function e(){return Object(n.a)(this,e),Object(o.a)(this,Object(r.a)(e).apply(this,arguments))}return Object(i.a)(e,t),Object(a.a)(e,[{key:"render",value:function(){var t=this,e={height:"10%",width:"80%",zIndex:"1000",margin:"auto"},_={float:"right",height:"4%",width:"4%"},n={float:"left",height:"4%",width:"4%"};return c.a.createElement("div",null,c.a.createElement("li",null,this.props.matches.map((function(a){var o=a.name;return c.a.createElement(l.a.Item,{style:e,className:"Matches",action:!0,value:"[".concat(a.lat,", ").concat(a.lon,"]"),onClick:function(e){return t.props.alertClicked(e)}},"".concat(o.toLowerCase()),c.a.createElement("img",{style:_,src:"https://img.icons8.com/ios-glyphs/32/000000/up-left-arrow.png",alt:"arrow"}),c.a.createElement("img",{style:n,src:"https://img.icons8.com/material/24/000000/worldwide-location--v1.png",alt:"userloc"}))}))))}}]),e}(s.Component);e.a=u},32:function(t,e,_){"use strict";var n=_(2),a=_(3),o=_(5),r=_(4),i=_(6),s=_(0),c=_.n(s),l=_(35),u=function(t){function e(){return Object(n.a)(this,e),Object(o.a)(this,Object(r.a)(e).apply(this,arguments))}return Object(i.a)(e,t),Object(a.a)(e,[{key:"render",value:function(){return c.a.createElement("div",{style:{position:"absolute",zIndex:"1000",width:"5%",marginLeft:"5%",marginRight:"80%",marginTop:"65%"}},c.a.createElement(l.a,{style:this.props.buttonStyles},c.a.createElement("img",{src:"https://img.icons8.com/offices/40/000000/bookmark-ribbon.png"})))}}]),e}(s.Component);e.a=u},33:function(t,e,_){"use strict";var n=_(2),a=_(3),o=_(5),r=_(4),i=_(6),s=_(0),c=_.n(s),l=_(23),u=_.n(l),p=_(20),h=_.n(p),m=_(35),E=function(t){function e(){return Object(n.a)(this,e),Object(o.a)(this,Object(r.a)(e).apply(this,arguments))}return Object(i.a)(e,t),Object(a.a)(e,[{key:"render",value:function(){return c.a.createElement("div",null,c.a.createElement("button",{style:{width:"30px",height:"30px",borderRadius:"50%",backgroundColor:"white"}},c.a.createElement("img",{src:"https://img.icons8.com/office/10/000000/add-to-favorites.png"})))}}]),e}(s.Component),d=function(t){function e(){var t,_;Object(n.a)(this,e);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return(_=Object(o.a)(this,(t=Object(r.a)(e)).call.apply(t,[this].concat(i)))).showData=function(){console.log(_.props.selectedStation)},_}return Object(i.a)(e,t),Object(a.a)(e,[{key:"render",value:function(){var t={textAlign:"center"},e=null;return this.props.showInfo&&(e=c.a.createElement("div",null,c.a.createElement("div",{style:{marginRight:"10%",marginLeft:"90%",marginTop:"2%"}},c.a.createElement(E,{buttonStyles:this.props.buttonStyles})),c.a.createElement("div",null,c.a.createElement("h3",{style:t},"".concat(this.props.selectedStation.name))),c.a.createElement("div",{className:u.a.container},c.a.createElement("div",{style:t},h()("".concat(this.props.selectedStationStatus.num_bikes_available,"\nBikes"))),c.a.createElement("div",{style:t},h()("".concat(this.props.selectedStationStatus.num_ebikes_available,"\nEbikes"))),c.a.createElement("div",{style:t},h()("".concat(this.props.selectedStationStatus.num_docks_available,"\nDocks")))),c.a.createElement("div",null),c.a.createElement("br",null),c.a.createElement("br",null),c.a.createElement("br",null),c.a.createElement("div",{className:u.a.buttonContainer},c.a.createElement("div",null,c.a.createElement(m.a,null,c.a.createElement("img",{src:"https://img.icons8.com/office/40/000000/bicycle.png"}),c.a.createElement("div",null,"Buy Pass"))),c.a.createElement("div",null,c.a.createElement(m.a,null,c.a.createElement("img",{src:"https://img.icons8.com/office/40/000000/waypoint-map.png"}),c.a.createElement("div",null,"Plan Ride")))))),c.a.createElement("div",null,e)}}]),e}(s.Component);e.a=d},34:function(t,e,_){"use strict";var n=_(2),a=_(3),o=_(5),r=_(4),i=_(6),s=_(0),c=_.n(s),l=_(52),u=_(53),p=_(54),h=(_(43),_(44),function(t){function e(){var t,_;Object(n.a)(this,e);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return(_=Object(o.a)(this,(t=Object(r.a)(e)).call.apply(t,[this].concat(i)))).SearchStyles={position:"absolute",margin:"auto",zIndex:"1000",width:"50%",borderRadius:"25px",padding:"2%",marginLeft:"25%",marginRight:"25%",marginTop:"10%"},_}return Object(i.a)(e,t),Object(a.a)(e,[{key:"render",value:function(){return c.a.createElement("div",null,c.a.createElement("input",{style:this.SearchStyles,placeholder:"Search for a Link Near you...",onChange:this.props.handleInputChange}))}}]),e}(s.Component)),m=function(t){function e(){return Object(n.a)(this,e),Object(o.a)(this,Object(r.a)(e).apply(this,arguments))}return Object(i.a)(e,t),Object(a.a)(e,[{key:"render",value:function(){var t=this,e=null;this.props.showStations&&(e=this.props.stationsInfo.data.stations.map((function(e){return c.a.createElement(l.a,{position:[e.lat,e.lon],onClick:t.props.markerClick(e)})})));var _=[this.props.viewport.latitude,this.props.viewport.longitude];return c.a.createElement("div",null,c.a.createElement(h,{buttonStyles:this.props.buttonStyles,handleInputChange:this.props.handleInputChange}),c.a.createElement(u.a,{center:_,zoom:this.props.viewport.zoom,style:{position:"relative",top:"0",bottom:"0",width:"100vw",height:"70vh"}},c.a.createElement(p.a,{attribution:'&copy <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),e))}}]),e}(s.Component);e.a=m},36:function(t,e,_){t.exports=_(49)},41:function(t,e,_){},43:function(t,e,_){t.exports={leaf:"leaf_leaf__2x8H4"}},44:function(t,e,_){},47:function(t,e,_){t.exports={loc:"location_loc__24hxq"}},48:function(t,e,_){},49:function(t,e,_){"use strict";_.r(e);var n=_(0),a=_.n(n),o=_(25),r=_.n(o),i=(_(41),_(26));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(a.a.createElement(i.a,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()}))}},[[36,1,2]]]);
//# sourceMappingURL=main.77b08b6f.chunk.js.map